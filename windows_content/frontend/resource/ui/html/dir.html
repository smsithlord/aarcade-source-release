<html>
	<head>
		<link rel="stylesheet" type="text/css" href="asset://ui/hud.css"></link>
		<script src="asset://ui/hud.js"></script>
	</head>
	<body>

		<div style="pointer-events: none; position: absolute; left: 0; top: 0; right: 0; bottom: 0;">
		<table style="width: 100%; height: 100%;">
		<tr ><td valign="middle" align="center">
		<div style="display: inline-block;">

		<script>
			var windowHeaderHTML = arcadeHud.generateWindowHeaderHTML("Directory", "", false, true, "", "aaapi.cmd('deactivateInputMode');");
			document.write(windowHeaderHTML);
		</script>

		<center>
			<div class="aaWindowPaneContent aaThemeColorTwoHighBackgroundColor aaThemeColorTwoLowBorderColor aaTextSizeFontSize aaTextColorTwoColor">
				<div style="text-align: left; font-family: Arial;" class="aaTitleTextSizeFontSize aaTextColorTwoColor">
					Yadda.
					<ol id="fileList"></ol>
				</div>
			</div>
		</center>

		<script>
			var windowFooterHTML = arcadeHud.generateWindowFooterHTML();
			document.write(windowFooterHTML);
		</script>

		</div>
		</td></tr>
		</table>
		</div>

		<a href="javascript:location.reload();" class="devReload">&bull;&nbsp;</a>

		<script>
			var list = document.querySelector('#fileList');
			var response = aaapi.cmdEx('getDirectoryListing', "C:\\Users\\Owner\\Pictures");
			//console.log(JSON.stringify(response.files));
			var listItem;
			var listImage;
			var file;
			for( var i = 0; i < response.files.length; i++ )
			{
				fileEntry = response.files[i];

				listItem = document.createElement('li');
				if( fileEntry.name.lastIndexOf('.png') == fileEntry.name.length - 4 )
				{
					listImage = document.createElement('img');
					listImage.style.cssText = "max-width: 200px; max-height: 200px;";
					listImage.src = "asset://local/" + response.dir + "\\" + fileEntry.name;
					listItem.appendChild(listImage);
				}
				else
					listItem.innerHTML = fileEntry.name;
				list.appendChild(listItem);
			}
			//console.log(JSON.stringify(files));
		</script>

	</body>
</html>